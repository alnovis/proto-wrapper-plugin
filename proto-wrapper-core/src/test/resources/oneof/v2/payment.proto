syntax = "proto3";

package test.oneof.v2;

option java_package = "test.oneof.v2";
option java_outer_classname = "PaymentProtos";

message Payment {
    string id = 1;
    int64 amount = 2;

    oneof method {
        CreditCard credit_card = 3;
        BankTransfer bank_transfer = 4;
        Crypto crypto = 5;  // New in v2
    }
}

message CreditCard {
    string card_number = 1;
    string expiry = 2;
    string cvv = 3;  // New in v2
}

message BankTransfer {
    string account_number = 1;
    string bank_code = 2;
}

message Crypto {
    string wallet_address = 1;
    string currency = 2;
}
