#-------------------------------------------------------------------------------
# Qodana configuration for proto-wrapper-plugin
# https://www.jetbrains.com/help/qodana/qodana-yaml.html
#-------------------------------------------------------------------------------

version: "1.0"

# JVM linter for Java + Kotlin
linter: jetbrains/qodana-jvm:2025.2

# Project JDK - use bundled JDK inside the container
projectJDK: "21"

# Project profile (inspections to run)
profile:
  name: qodana.recommended

# Paths to exclude from analysis
exclude:
  - name: "**/build/**"
  - name: "**/target/**"
  - name: "**/generated/**"
  - name: "**/generated-sources/**"
  - name: "**/generated-test-sources/**"
  - name: "examples/**"
  - name: "proto-wrapper-golden-tests/**"
  - name: "proto-wrapper-maven-integration-tests/**"
  - name: "proto-wrapper-gradle-integration-tests/**"
  - name: "local-integration-tests/**"
  - name: "test-protos/**"

# Fail CI if threshold exceeded
# Current baseline: ~90 issues (mostly duplicated code in generators, vulnerable deps, JavaDoc refs)
failThreshold: 100
