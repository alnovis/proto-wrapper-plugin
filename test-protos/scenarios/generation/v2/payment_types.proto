// Payment types with oneof for v2 - adds Crypto option
syntax = "proto2";

package io.alnovis.protowrapper.it.proto.v2;

option java_package = "io.alnovis.protowrapper.it.proto.v2";

// Payment message with oneof for payment method
// V2 adds cryptocurrency option
message Payment {
    required string id = 1;
    required int64 amount = 2;
    optional string description = 3;
    optional string reference = 4;  // New in v2

    // Oneof for payment method - extended with crypto option in v2
    oneof method {
        CreditCard credit_card = 10;
        BankTransfer bank_transfer = 11;
        Crypto crypto = 12;  // New in v2
    }
}

// Credit card details - with CVV added in v2
message CreditCard {
    required string card_number = 1;
    required string expiry = 2;
    optional string holder_name = 3;
    optional string cvv = 4;  // New in v2
}

// Bank transfer details
message BankTransfer {
    required string account_number = 1;
    required string bank_code = 2;
    optional string bank_name = 3;
}

// Cryptocurrency payment - new in v2
message Crypto {
    required string wallet_address = 1;
    required string currency = 2;  // BTC, ETH, etc.
    optional string network = 3;   // mainnet, testnet
}
